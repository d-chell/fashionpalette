{% extends 'base.html' %}
{% block profile %}active{% endblock %}
{% block content %}

<script type="text/javascript">
  function toggle_visibility(id) {
    var x = document.getElementById(id);
    if(x.style.display == 'block')
    x.style.display = 'none';
    else
    x.style.display = 'block';
  }
</script>

<noscript>
  <style>
    div {
      display:block !important;
    }
  </style>
</noscript>

  <link rel="stylesheet" href="/static/colorPicker.css">
<div class="row">
  <div class="five columns">
    <img src="data:image/jpg;base64, {{ profilepic }}" alt="Your profile" style="max-width: 100%">
    <hr>
    <button onclick="toggle_visibility('profilebutton'); return false">change profile picture</button>
    <div id="profilebutton" style="display:none">
      <form method="POST" enctype="multipart/form-data">
        <label for="avatar">Choose a profile picture:</label>
        <input type="file"
        id="avatar" name="file"
        accept="image/png, image/jpeg">
        <input class="button-primary" type="submit" value="Upload">
      </form>
    </div>
  </div>
  <div class="seven columns" style="text-align: center">
    <b>Your natural palette is {{ result }}!</b>
    <p></p>
    <p>To better understand what colors compliment your palette, please read more about it <a href="/wiki/{{ link }}">here</a>.</p>
  </div>
</div>
<hr>
<div class="row">
  <button onclick="toggle_visibility('profilestyle'); return false">update your palette</button>
  <div class="twelve columns" id="profilestyle" style="display:none">
    <form method="POST">
      <div class="row">
        <div class="six columns">
          <label> Skin Tone
            <select class="u-full-width formsizing" required name="skintone">
              <option value="2">Warm</option>
              <option value="1">Neutral</option>
              <option value="-1">Cool</option>
            </select>
          </label>
        </div>
        <div class="six columns">
          <label> Skin Color
            <select class="u-full-width formsizing" required name="skincolor">
              <option value="5">Ebony</option>
              <option value="4">Mocha</option>
              <option value="3">Caramel</option>
              <option value="2">Beige</option>
              <option value="1">Ivory</option>
            </select>
          </label>
        </div>
      </div>
      <div class="row">
        <div class="six columns">
          <label> Eye Tone
            <select class="u-full-width formsizing" required name="eyetone">
              <option value="2">Warm</option>
              <option value="1">Neutral</option>
              <option value="-1">Cool</option>
            </select>
          </label>
        </div>
        <div class="six columns">
          <label> Eye Color
            <select class="u-full-width formsizing" required name="eyecolor">
              <option value="6">Black</option>
              <option value="5">Brown</option>
              <option value="4">Hazel</option>
              <option value="3">Green</option>
              <option value="2">Blue</option>
              <option value="1">Grey</option>
            </select>
          </label>
        </div>
      </div>
      <div class="row">
        <div class="four columns">
          <label> Hair Tone
            <select class="u-full-width formsizing" required name="hairtone">
              <option value="1">Warm</option>
              <option value="1">Neutral</option>
              <option value="-1">Cool</option>
            </select>
          </label>
        </div>
        <div class="four columns">
          <label> Hair Shade
            <select class="u-full-width formsizing" required name="hairshade">
              <option value="0.7">Dark</option>
              <option value="1">Medium</option>
              <option value="3">Light</option>
            </select>
          </label>
        </div>
        <div class="four columns">
          <label>Hair Color
            <select class="u-full-width formsizing" required name="haircolor">
              <option value="1">Black</option>
              <option value="2">Brown</option>
              <option value="3">Red</option>
              <option value="4">Purple</option>
              <option value="5">Blue</option>
              <option value="7">Green</option>
              <option value="8">Pink</option>
              <option value="9">Blonde</option>
              <option value="10">White</option>
            </select>
          </label>
        </div>
      </div>
      <div class="row">
        <div class="two columns">
          <input class="button-primary" type="submit" value="Save">
        </div>
      </div>
    </form>
  </div>
    <div class="row">
      <br>
      <p>Your profile serves as a representation of your natural palette. Feel free to upload a profile picture for reference, or just for fun. Your image will never be abused or shared.</p>
      <p>By clicking on the "update your palette" button above, you can input your information and our algorithm will match you to the seasonal palette that best represents you. Please keep in mind that this palette should not restrict you in any way, and is only a guideline. It may help you choose colors that compliment your natural palette, but ultimately, as always, wear what makes you feel best, no matter the color!</p>
    </div>

    <div class="container">
        <svg id="product-svg" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1280">
        <defs/>
        <path id="product-shape" d="M1091.89 706.86c-.73-4-8.21-37.53-8.21-37.53s-4.37-35.14-8.11-48.45-9.46-37.43-9.46-37.43-2-11.33-5.41-16.43-14.87-23.39-24.74-32.23-24.79-15.11-37.91-20.14S970 504.13 967.9 502s-3.57-5.51-5.51-6.32a8.47 8.47 0 0 1-4.21-3.57c-.81-1.46-2.38-4.19-8.4-4.12 0 0-.42 4.68 2.6 6.13s4.68 5.41 5.41 7.49.52 12.27.52 14.45-.42 4.68-2 6-3.85 5.82-19.55 5.41S892 513.18 892 513.18s-27.45-13.31-36.28-21.42-27.55-26.61-27.55-26.61-3.64-4.89-7.07-4a30.67 30.67 0 0 0-7.59 3.85s-5.09-1.66-10.6 2.81S782 479.7 782 479.7l-7.69 2.18-9.77 5.61s-5.41 1.56-8.42 2.5l-31.92 9.88s-7.49.62-9.15 1-9.36 3.33-13 6.76-17.36 12.58-22.46 23-18.92 32.54-24.22 45.43S639.43 613 639.43 613l-8.73 22.35-4.26 8.73s-1 4 .62 5 21.21 23 21.21 23l3-20.27 3.74-3.64s16.53-1.66 24.22-.31 19.75 4 31.81 10.71c0 0 3.12-.1 11.85 18.51 0 0 3 7.28 13.72 16.84 0 0-4.78 41.27-5.61 52.4s-7.17 55.72-8.84 66.23-2.08 11.75-2.08 11.75l-2 62.17s12.27 22.66 22 45.64 25.89 57.28 25.89 57.28l26.16 50.32 15.95 28.9s5.3 10.71 7.49 11.64 5.41 1.87 5.41 1.87.42.83 4.57 1.35 63.63 0 63.63 0l108.62-.47 34.1-.1 1.77-26.72a12.05 12.05 0 0 1-3.53-8.53c-.21-5.72.31-27.55.31-27.55l-1.87-12.06s-.21-6.34-1.14-8.84a168.52 168.52 0 0 0-11.64-22.77s-.52-6.76-1.14-7.8a11 11 0 0 0-1.46-1.87s.21-7.49-.52-9.36-2-6.55-2-6.55l-1.25-9.15.42-35.35 1-13.72s.1-25.47-.62-31.61-.42-17.57-.42-20.9 4.26-19.55 4.26-27.55.73-6.86-.62-18.3 3.74-16.43 3.53-29.73-.73-35.14-.73-35.14 24.85-2.81 36.91-8.32 36.8-10.4 36.8-10.4 2.66.13 1.93-3.82zM714.66 1046.35l-16.86-28.05-1.6-1.6-9.2 47.23s-4.08 15.27-4.44 19-1.42 11.36.89 12.43a24.54 24.54 0 0 0 13.67 3c7.63-.36 10.3-.71 8.52-3.73s-5.63-3.38-5.63-3.38 6.77-3 12.38-3.36 11.36-.18 24.86-7.1c0 0-2.66-5.86-16.16-24.32s-6.43-10.12-6.43-10.12z"/>
      </svg>
      <img id="background-image" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1376484/alex-holyoake-unsplash_hkda7r.jpg" alt="">

      <div class="colors">
        <div class="Pcolor" onclick="changeColor(e)" style="background-color: #e1e851" data-hex="#e1e851"></div>
        <div class="Pcolor" style="background-color: #8cd147" data-hex="#8cd147"></div>
        <div class="Pcolor" style="background-color: #4a9ccf" data-hex="#4a9ccf"></div>
        <div class="Pcolor" style="background-color: #661f45" data-hex="#661f45"></div>
        <div class="Pcolor" style="background-color: #1e2024" data-hex="#1e2024"></div>
      </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.0.4/jscolor.js" charset="utf-8"></script>

<script type="text/javascript">
  // Reference the color shape that was drawn over the image
  const overlay = document.getElementById("product-shape");

  // Click on a color

  var el = document.getElementsByClassName("Pcolor");
  for (var i = 0; i < el.length; i++) {
    el[i].onclick = changeColor;
  }

  function changeColor(e) {
    // get the hex color
    let hex = e.target.getAttribute("data-hex");
    // set the hex color
    overlay.style.fill = hex;
  }

</script>
    </div>
    {% endblock %}
